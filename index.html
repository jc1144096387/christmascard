<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>圣诞贺卡</title>
  <style>
    body{background-color:#F08080;}
    body,html{width:100%;height:100%;overflow:hidden;}
  </style>
  <script>
    window.onload=function(){
      var card=document.getElementById("card");
      var context=card.getContext("2d");
      var W=window.innerWidth;
      var H=window.innerHeight;
      var angle=0;
      var length=300;
      card.width=W;
      card.height=H;

      function draw(){
        context.beginPath();
        context.fillStyle="red";
        context.strokeStyle="yellow";
        context.lineWidth=2;
        context.rect(W/2,100,300,400);
        context.stroke();
        context.fill();
        context.fillStyle="white";
        context.font="60px 楷体";
        context.fillText("圣诞快乐",W/2+30,200);
        context.fillText("Merry",W/2+80,300);
        context.fillText("Chirstmas",W/2+15,400);
      }

      function turnOver(){
        angle+=3;
        var width=Math.cos(angle*3.14/180);
        var height=Math.sin(angle*3.14/180);
        context.beginPath();
        context.fillStyle="red";
        context.strokeStyle="yellow";
        context.lineWidth=2;
        context.moveTo(W/2-2,100);
        context.lineTo(W/2-2+width*length,100-height*length);
        context.lineTo(W/2-2+width*length,500-height*length);
        context.lineTo(W/2-2,500);
        context.stroke();
        context.fill();
        if(angle>=90){
          context.beginPath();
          context.fillStyle="green";
          context.moveTo(W/2+150*width,150-height*150);
          context.lineTo(W/2+200*width,200-height*200);
          context.lineTo(W/2+170*width,200-height*170);
          context.lineTo(W/2+230*width,250-height*230);
          context.lineTo(W/2+200*width,250-height*200);
          context.lineTo(W/2+260*width,300-height*260);
          context.lineTo(W/2+40*width,300-height*40);
          context.lineTo(W/2+100*width,250-height*100);
          context.lineTo(W/2+70*width,250-height*70);
          context.lineTo(W/2+130*width,200-height*130);
          context.lineTo(W/2+100*width,200-height*100);
          context.lineTo(W/2+150*width,150-height*150);
          context.fill();
          context.beginPath();
          context.fillStyle="brown";
          context.moveTo(W/2+170*width,300-height*170);
          context.lineTo(W/2+170*width,400-height*170);
          context.lineTo(W/2+130*width,400-height*130);
          context.lineTo(W/2+130*width,300-height*130);
          context.fill();
          context.beginPath();
          context.fillStyle="yellow";
          context.shadowBlur=25;
          context.shadowColor="yellow";
          context.moveTo(W/2+150*width,122-height*150);
          context.lineTo(W/2+155*width,135-height*157);
          context.lineTo(W/2+170*width,135-height*170);
          context.lineTo(W/2+160*width,143-height*160);
          context.lineTo(W/2+165*width,155-height*165);
          context.lineTo(W/2+150*width,147-height*150);
          context.lineTo(W/2+135*width,155-height*135);
          context.lineTo(W/2+140*width,143-height*145);
          context.lineTo(W/2+130*width,135-height*135);
          context.lineTo(W/2+145*width,135-height*143);
          context.lineTo(W/2+150*width,122-height*150);
          context.fill();
          context.shadowBlur=0;
        }
        if(angle!=180){
          setTimeout(play,60);
        }
      }

      function play(){
          context.clearRect(0,0,W,H);
          draw();
          turnOver();
      }

      play();
    }
  </script>
</head>
<body>
  <canvas id="card"></canvas>
</body>
</html>
